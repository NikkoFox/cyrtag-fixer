# üéµ cyrtag-fixer

CLI-—É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è **–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö ¬´–∫—Ä–∞–∫–æ–∑—è–±—Ä¬ª**
–≤ —Ç–µ–≥–∞—Ö –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ `.cue` —Ñ–∞–π–ª–∞—Ö.

–†–µ—à–∞–µ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É, –∫–æ–≥–¥–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü–∞ –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ **cp1251**
–±—ã–ª–∞ –æ—à–∏–±–æ—á–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∫–∞–∫ UTF-8:
`√ã√º√¢√®√∂√† √∞√Æ√™√† ‚Üí –õ—å–≤–∏—Ü–∞ —Ä–æ–∫–∞`

–†–∞–±–æ—Ç–∞–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –ø–æ –∫–∞—Ç–∞–ª–æ–≥—É —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –±—ç–∫–∞–ø–æ–≤.

[![GitHub Release](https://img.shields.io/github/v/release/NikkoFox/cyrtag-fixer?include_prereleases&sort=semver)](https://github.com/NikkoFox/cyrtag-fixer/releases/latest)
[![GitHub Downloads (all assets, all releases)](https://img.shields.io/github/downloads/NikkoFox/cyrtag-fixer/total)](https://github.com/NikkoFox/cyrtag-fixer/releases)
[![GitHub License](https://img.shields.io/github/license/NikkoFox/cyrtag-fixer)](LICENSE)

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–º–∞–Ω–Ω—ã—Ö –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö —Ç–µ–≥–æ–≤ –≤ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞—Ö  
  (`mp3`, `flac`, `m4a`, `mp4`, `ogg`, `wav`)
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è `.cue` —Ñ–∞–π–ª–æ–≤ –∏–∑ **cp1251 ‚Üí UTF-8**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ¬´–∫—Ä–∞–∫–æ–∑—è–±—Ä¬ª —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –ø–æ—Ä–æ–≥–æ–º
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π (–ª–∞—Ç–∏–Ω—Å–∫–∏–µ –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–∏)
- –°–æ–∑–¥–∞–Ω–∏–µ `.bak` —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ì–æ—Ç–æ–≤—ã–π –±–∏–ª–¥

1. –°–∫–∞—á–∞–π—Ç–µ –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤ –ø–æ–¥ –≤–∞—à—É –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É.
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ **cyrtag-fixer** –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—É—Ç–∏ `./cyrtag-fixer ~/music`

### –ß–µ—Ä–µ–∑ Cargo

```bash
cargo install --git https://github.com/NikkoFox/cyrtag-fixer
```

### –ò–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

```bash
git clone https://github.com/NikkoFox/cyrtag-fixer.git
cd cyrtag-fixer
cargo build --release
```

–ë–∏–Ω–∞—Ä–Ω–∏–∫ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –ø—É—Ç–∏: `target/release/cyrtag-fixer`

---

## üöÄ –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
cyrtag-fixer <–ü–£–¢–¨>
```

### –ü—Ä–∏–º–µ—Ä:

```bash
cyrtag-fixer ~/music
```

–£—Ç–∏–ª–∏—Ç–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±–æ–π–¥—ë—Ç –∫–∞—Ç–∞–ª–æ–≥ –∏:

- –∏—Å–ø—Ä–∞–≤–∏—Ç —Å–ª–æ–º–∞–Ω–Ω—ã–µ –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–µ —Ç–µ–≥–∏,
- –ø–µ—Ä–µ–∫–æ–¥–∏—Ä—É–µ—Ç .cue —Ñ–∞–π–ª—ã,
- —Å–æ–∑–¥–∞—Å—Ç .bak –±—ç–∫–∞–ø—ã –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏.

---

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

```text
–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö –∫—Ä–∞–∫–æ–∑—è–±—Ä –∫–æ–¥–∏—Ä–æ–≤–∫–∏ cp1251 –≤ —Ç–µ–≥–∞—Ö –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ .cue

Usage: cyrtag-fixer [OPTIONS] <PATH>

Arguments:
  <PATH>  –ü—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å –º—É–∑—ã–∫–æ–π

Options:
      --no-backup                      –ù–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å .bak —Ñ–∞–π–ª—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–∑–¥–∞—é—Ç—Å—è)
      --ignore-backup-err              –ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É, –µ—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø —Ñ–∞–π–ª–∞
      --force-cp1251-cue               –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å—á–∏—Ç–∞—Ç—å –≤—Å–µ .cue —Ñ–∞–π–ª–∞–º–∏ –≤ cp1251 (–±–µ–∑ –ø–æ–ø—ã—Ç–æ–∫ —É–≥–∞–¥–∞—Ç—å)
      --cyr-threshold <CYR_THRESHOLD>  –û—Ç—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ä–æ–≥ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã [default: 0.2]
  -h, --help                           Print help
  -V, --version                        Print version
```

---

## üß† –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê—É–¥–∏–æ-—Ñ–∞–π–ª—ã

1. –¢–µ–≥–∏ —á–∏—Ç–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ lofty
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—è:
    - –µ—Å–ª–∏ –≤ –Ω—ë–º –Ω–µ—Ç –∫–∏—Ä–∏–ª–ª–∏—Ü—ã,
    - –Ω–æ –ø–æ—Å–ª–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –∫–∞–∫ cp1251 –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–π —Ç–µ–∫—Å—Ç ‚Äî
      –ø–æ–ª–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–º
3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤—ã—à–µ –ø–æ—Ä–æ–≥–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è

–ê–ª–≥–æ—Ä–∏—Ç–º —É—á–∏—Ç—ã–≤–∞–µ—Ç:

- –¥–æ–ª—é –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤,
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞—Ç–∏–Ω—Å–∫–∏—Ö –¥–∏–∞–∫—Ä–∏—Ç–∏–∫ (√§, √∂, √© –∏ —Ç.–ø.),
- –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏.

### .cue —Ñ–∞–π–ª—ã

- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:
    - –µ—Å–ª–∏ —Ñ–∞–π–ª –≤–∞–ª–∏–¥–µ–Ω UTF-8 ‚Äî –æ–Ω –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è
    - –∏–Ω–∞—á–µ –ø—Ä–æ–±—É–µ—Ç—Å—è cp1251 ‚Üí UTF-8
- –° —Ñ–ª–∞–≥–æ–º --force-cp1251-cue:
    - —Ñ–∞–π–ª –≤—Å–µ–≥–¥–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è cp1251

---

## üìå –ö–æ–≥–¥–∞ —ç—Ç–æ –Ω—É–∂–Ω–æ

- –°—Ç–∞—Ä—ã–µ CD-—Ä–∏–ø—ã (image+.cue, tracks+.cue)
- –ú—É–∑—ã–∫–∞, –ø–µ—Ä–µ–µ–∑–∂–∞–≤—à–∞—è –º–µ–∂–¥—É Windows / Linux / macOS
- –ö–æ–ª–ª–µ–∫—Ü–∏–∏, –≥–¥–µ —Ç–µ–≥–∏ –≤—ã–≥–ª—è–¥—è—Ç ¬´–ø–æ—Ö–æ–∂–µ –Ω–∞ —Ç–µ–∫—Å—Ç, –Ω–æ —á–∏—Ç–∞—Ç—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ¬ª